<div ng-repeat="thing in things | orderBy:'id':true">
  <div class="timeline-panel">
    <div class="timeline-heading">
      <h4 ng-show="thing.title">
        {{thing.title}}
      </h4>
      <h5>
        {{thing.map.distance.value / 1000 | number:1}} kilometres / {{thing.map.distance.value * 0.000621371 | number:1}} miles
      </h4>
      <div class="clearfix" style="margin-bottom: 10px;">
        <a href="{{country.url}}" ng-repeat="country in thing.countries">
          <img src="images/flags/{{country.code}}.png" alt="flag of {{country.code}}" class="pull-left rounded" style="margin-right: 10px;" />
        </a>
      </div>
      <p ng-show="thing.summary && (thing.title != thing.summary)">
        {{thing.summary}}
      </p>
      <p class="small text-muted" ng-repeat="waypoint in thing.waypoints">
        <i class="glyphicon glyphicon-time"></i>
        {{waypoint.time}}
        <a href="{{waypoint.url}}" ng-show="waypoint.url">
          <i class="glyphicon glyphicon-map-marker"></i>
          {{waypoint.place}}
        </a>
        <span ng-hide="waypoint.url">
          <i class="glyphicon glyphicon-map-marker"></i>
          {{waypoint.place}}
        </span>
      </p>
      <p><a href="https://www.facebook.com/rob.thijssen/posts/{{thing.facebook}}" ng-show="thing.facebook">facebook</a></p>
    </div>
    <div class="timeline-body">
      <p ng-show="thing.description">
        {{thing.description}}
      </p>
      <leaflet id="{{thing.id}}" ng-show="thing.map" lf-center="thing.map.centre" paths="thing.map.paths" width="100%" height="480px"></leaflet>
      <ul ng-show="thing.tags" class="list-inline">
        <li ng-repeat="tag in thing.tags">
          <span class="badge">{{tag}}</span>
        </li>
      </ul>
    </div>
  </div>
</div>
